services:
  # Claude 实例
  bot-claude:
    image: ghcr.io/cherrylover/claude-code-feishu:latest
    container_name: claude-bot
    restart: unless-stopped
    environment:
      - WORKSPACE=/workspace
      - AI_PROVIDER=claude
      - ANTHROPIC_API_KEY=${CLAUDE_ANTHROPIC_API_KEY}
      - ANTHROPIC_BASE_URL=${CLAUDE_ANTHROPIC_BASE_URL:-}
      - FEISHU_APP_ID=${CLAUDE_FEISHU_APP_ID}
      - FEISHU_APP_SECRET=${CLAUDE_FEISHU_APP_SECRET}
      - NOTIFY_USER_ID=${CLAUDE_NOTIFY_USER_ID:-}
    volumes:
      - /home/jiangjiwei/Code/my-project:/workspace

  # Codex 实例
  bot-codex:
    image: ghcr.io/cherrylover/claude-code-feishu:latest
    container_name: codex-bot
    restart: unless-stopped
    environment:
      - WORKSPACE=/workspace
      - AI_PROVIDER=codex
      - OPENAI_API_KEY=${CODEX_OPENAI_API_KEY}
      - OPENAI_BASE_URL=${CODEX_OPENAI_BASE_URL:-}
      - FEISHU_APP_ID=${CODEX_FEISHU_APP_ID}
      - FEISHU_APP_SECRET=${CODEX_FEISHU_APP_SECRET}
      - NOTIFY_USER_ID=${CODEX_NOTIFY_USER_ID:-}
    volumes:
      - /home/jiangjiwei/Code/my-project:/workspace
